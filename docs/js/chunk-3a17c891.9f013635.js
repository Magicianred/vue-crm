(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a17c891"],{"1bec":function(e,t,n){},6859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"page-title"},[n("h3",[e._v(e._s(e._f("localize")("PlanningTitle")))]),n("h4",[e._v(e._s(e._f("currency")(e.info.bill,"UAH")))])]),e.loading?n("loader"):e.categories.length?n("section",e._l(e.categories,(function(t){return n("div",{key:t.id},[n("p",[n("strong",[e._v(e._s(t.title))]),e._v("\n        "+e._s(e._f("currency")(t.spend,"UAH"))+" "+e._s(e._f("localize")("PlanningOf"))+" "+e._s(e._f("currency")(t.limit,"UAH"))+"\n      ")]),n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"cat.tooltip"}],staticClass:"progress"},[n("div",{staticClass:"determinate",class:[t.progressColor],style:{width:t.progressPercent+"%"}})])])})),0):n("p",{staticClass:"center-align"},[e._v("\n    "+e._s(e._f("localize")("PlanningEmptyRecord"))+".\n    "),n("router-link",{attrs:{to:"/categories"}},[e._v(e._s(e._f("localize")("PlanningAddRecordLink")))])],1)],1)},i=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),o=n("bd86"),a=n("2f62"),s=n("5bb3");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"planning",metaInfo:function(){return{title:this.$title("PlanningTitle")}},data:function(){return{loading:!0,categories:[]}},computed:u({},Object(a["c"])(["info"])),mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchRecords");case 2:return t=e.sent,e.next=5,this.$store.dispatch("fetchCategories");case 5:n=e.sent,this.categories=n.map((function(e){var n=t.filter((function(t){return t.categoryId===e.id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),r=100*n/e.limit,i=r>100?100:r,c=r<60?"green":r<100?"yellow":"red",o=e.limit-n,a="".concat(o<0?"Превышение на":"Осталось"," ").concat(Object(s["a"])(Math.abs(o)));return u({},e,{progressPercent:i,progressColor:c,spend:n,tooltip:a})})),this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},f=p,d=(n("f62a"),n("2877")),g=Object(d["a"])(f,r,i,!1,null,null,null);t["default"]=g.exports},f62a:function(e,t,n){"use strict";var r=n("1bec"),i=n.n(r);i.a}}]);
//# sourceMappingURL=chunk-3a17c891.9f013635.js.map